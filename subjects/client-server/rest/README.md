# REST

В прошлом уроке мы рассмотрели HTTP - текстовый протокол для передачи любых данных с клиента на сервер и обратно.
Для создания некого свода правил для взаимодействия фронтенда и бекенда начали придумывать различные протоколы поверх HTTP. Один из низ - REST.

REST - это аббревиатура от **RE**presentational **S**tate **T**ransfer (передача состояния представления). Впервые его представил Рой Филдинг в известной [диссертации](https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm). REST — это стиль архитектуры ПО, основанный на правилах, описывающих как определять ресурсы и получать к ним доступ. Трудно представить современный Интернет без RESTful API. В этой статье мы подробно рассмотрим REST и связанные с ним концепции HTTP.

REST не стандартизирован как, например, [SOAP](https://ru.wikipedia.org/wiki/SOAP). Это дает гибкость в написании решений. Например, не существует единого и подходящего способа реализации нумерации страниц. REST определяет набор основных общих ограничений, которым необходимо следовать при разработке RESTful API:

### Принципы

- **client-server (клиент-серверная архитектура)**. Клиент использует URI для получения ресурсов и его не касается как сервер обрабатывает запрос. Сервер обрабатывает и возвращает ресурсы и никак не влияет на пользовательский интерфейс. И клиенту, и серверу не нужно знать об обязанностях друг друга. Таким образом, они могут развиваться независимо. Это позволяет использовать один и тот же API во многих разных клиентах.
- **stateless (без состояния)**. RESTful API не должен иметь состояния. Проще говоря, это означает, что он не хранит никакой информации о сеансе пользователя.
- **сacheability (кешируемость)**. Ответ сервера должен предоставить информацию о том, следует ли его кэшировать и на какое время.
- **layered architecture (cлоистая система)**. REST API может состоять из нескольких уровней, например бизнес-логики, представления, доступа к данным. Более того, слои не должны напрямую влиять на другие. Кроме того, клиент не должен знать, подключен ли он напрямую к конечному серверу или к посреднику. Поэтому мы можем легко масштабировать систему или предоставлять дополнительные уровни, такие как шлюзы, прокси, балансировщики нагрузки.

### Ресурсы

Ресурс в REST аналогичен объектам в ООП или сущностям в базе данных. Ресурс должен быть определен в стандартном формате, чтобы сервер мог отправить ресурс, а клиент мог его понять.

Пример ресурса в формате JSON:

```JSON
{
   "id":1,
   "name":"Alibek",
}
```

Пример ресурса в формате xml:

```xml
<user>
   <id>1</id>
   <name>Mahesh</name>
</user>
```

### Идентификаторы ресурсов

Каждый ресурс должен быть уникален. Для это существуют идентификаторы - зачастую поле `id`. Идентификаторы могут использоваться для построения адреса запроса.

### Действия с ресурсами

В REST определены стандартизированные действия с ресурсами.
Сокращенно CRUD:

- **c**reate - создавать
- **r**ead - получать
- **d**elete - обновлять
- **u**pdate - удалять

### Итого

REST — это прочная и эластичная архитектура. Поэтому он так популярен и широко используется во многих современных API.

Полезные статьи:

- [Web API Design](https://pages.apigee.com/rs/apigee/images/api-design-ebook-2012-03.pdf)
- [REST API Tutorial](https://www.restapitutorial.com/)
